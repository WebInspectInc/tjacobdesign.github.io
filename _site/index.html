<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>For a Designer | For a Designer</title>
        <meta name="viewport" content="width=device-width">
        <link rel="alternate" type="application/atom+xml" title="RSS Feed for foradesigner.com" href="/feed/" />

        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
    </head>
    <body>

        <div class="site">
          <header class="header">
            <hgroup>
              <h1 class="cHead"><a href="/">For a Designer</a></h1>
              <h2 class="cHead gray">Programming on the Right Brain</h2>
            </hgroup>
            <nav>
              <a href="/articles">Articles</a>
              <a href="/about">About</a>
            </nav>
          </header>

          <div id="home" role="main">
  
  

  
  <article class="post">
    <h1><a href="/front-end-animation-techniques/">Front-End Animation Techniques</a></h1>
    <p class="time">Published <time class="meta" datetime="2014-04-04 15:46:00 -0500">04 Apr 2014</time> by Timothy Miller 
    <p>Animations are hard. Making an animation feel right takes an equal concentration of sweat, time, and luck, and few give enough of themselves to produce anything truly good. It doesn’t make it any easier that there are so many different ways to animate things on the web, so here is where you’ll find what you need to choose the right tech for the job.</p>

<h2>CSS Animations</h2>

<p>First and fastest are CSS animations. CSS animations are quick to code and super easy to tweak. CSS animations work particularly well when you’re changing CSS controlled states (such as <code>hover</code>, <code>focus</code>, or <code>active</code>), but they can transition most CSS properties as long as all you need is from one value to another value (such as red to pink). If you think outside the box you can get some pretty <a href="http://leaverou.github.io/animatable/">wacky results</a>. (I particularly like the 3D examples at the bottom)</p>

<p>There are two ways to animate using CSS. Transitioning from one thing to another:</p>

<div class="highlight"><pre><code class="css"><span class="nc">.test</span> <span class="p">{</span>
    <span class="k">color</span><span class="o">:</span> <span class="nb">pink</span><span class="p">;</span>
    <span class="n">transition</span><span class="o">:</span> <span class="k">color</span> <span class="m">0.5s</span> <span class="n">linear</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.test</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>And you can also define your own keyframe animations:</p>

<div class="highlight"><pre><code class="css"><span class="nc">.test</span> <span class="p">{</span>
    <span class="n">animation</span><span class="o">:</span> <span class="n">test</span> <span class="m">1s</span> <span class="n">linear</span> <span class="n">alternate</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">@keyframes</span> <span class="nt">test</span> <span class="p">{</span>
    <span class="nt">0</span><span class="o">%</span> <span class="p">{</span>
        <span class="k">color</span><span class="o">:</span> <span class="nb">pink</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
        <span class="k">color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>You can read more about <a href="http://css-tricks.com/almanac/properties/t/transition/">CSS Transitions</a> and <a href="http://css-tricks.com/almanac/properties/a/animation/">Animations</a> at CSS Tricks.</p>

<h2>JavaScript Animations</h2>

<p>Next is the tried-and-true but lacking. This is how we used to do animations on the web:</p>

<div class="highlight"><pre><code class="js"><span class="kd">function</span> <span class="nx">moveSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
    <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">moveSomething</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>It can get a little more complex than this, depending on how much work you want to put into it. But the basic idea is simple, we move something a little bit, wait a little bit, and then do it again!</p>

<p>That’s a programming concept called recursion, by the way. Go ahead and feel smug that you know what that means, you could even <a href="http://twitter.com/share?text=I%20know%20recursion,%20y%E2%80%99all.&amp;url=http://foradesigner.com/">tweet it</a> if you like.</p>

<h3>A Better Way</h3>

<p>But wait! Don’t use the method above. It <em>is</em> how we used to do things, but fortunately there’s a better way now. It’s called requestAnimationFrame. Here’s how I usually use it:</p>

<div class="highlight"><pre><code class="js"><span class="kd">function</span> <span class="nx">moveSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">animate</span> <span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">oldTime</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oldTime</span> <span class="o">=</span> <span class="nx">oldTime</span> <span class="o">||</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">oldTime</span> <span class="o">+</span> <span class="nx">time</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">now</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">();</span>
        <span class="nx">oldTime</span> <span class="o">=</span> <span class="nx">now</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">oldTime</span><span class="p">);</span> <span class="p">});</span>
<span class="p">}</span>
 
<span class="nx">animate</span><span class="p">(</span><span class="nx">moveSomething</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
</code></pre></div>

<p>Yeah I know, that’s kind of an intimidating block of code. Let’s break it down.</p>

<p>RequestAnimationFrame is a lot like setting a timeout (like we did above), but it has one important difference: Rather than <em>forcing</em> the browser to run that code every 500 milliseconds, it <em>asks</em> the browser to run the code every 500 milliseconds. That has a host of advantages, for now we’ll just say it helps with battery life and makes your animations smoother. There aren’t really any disadvantages, so you really should use it.</p>

<p>One note though: you might need a <a href="https://gist.github.com/paulirish/1579671">polyfill</a> if you support IE&lt;10.</p>

<h2>SVG Animations</h2>

<p>Here’s an example of a particularly incredible SVG animation that I found recently:</p>

<p data-height="268" data-theme-id="5360" data-slug-hash="rawkK" data-default-tab="result" class='codepen'>See the Pen <a href='http://codepen.io/indyplanets/pen/rawkK/'>Hulk SVG Animation</a> by Jason Weaver (<a href='http://codepen.io/indyplanets'>@indyplanets</a>) on <a href='http://codepen.io'>CodePen</a>.</p>

<script async src="//codepen.io/assets/embed/ei.js"></script>

<p>Pretty sweet, eh? SVG animation is a whole other can of worms, and there are a ton of different ways to handle it. Here’s one simple example:</p>

<div class="highlight"><pre><code class="xml"><span class="nt">&lt;svg&gt;</span>
    <span class="nt">&lt;rect</span> <span class="na">width=</span><span class="s">&quot;200&quot;</span> <span class="na">height=</span><span class="s">&quot;200&quot;</span> <span class="na">fill=</span><span class="s">&quot;pink&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;animate</span> <span class="na">attributeName=</span><span class="s">&quot;height&quot;</span> <span class="na">from=</span><span class="s">&quot;0&quot;</span> <span class="na">to=</span><span class="s">&quot;200&quot;</span> <span class="na">dur=</span><span class="s">&quot;3s&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/rect&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div>

<p>It has an actual <a href="http://www.w3.org/TR/SVG11/animate.html#AnimateElement">animate element</a>, which defines <em>what</em> you want to animate, where you want it to <em>start</em>, where you want it to <em>end</em>, and how long it should take. Of course that isn’t enough to build a hulk animation like the one above, but it’s a start. There are <a href="http://www.hongkiat.com/blog/scalable-vector-graphics-animation/">lots of different ways to animate SVG</a>, we’ll dig deeper in another article.</p>

<h2>Related Resources</h2>

<ul>
<li><a href="http://24ways.org/2012/flashless-animation/">Flashless Animation in CSS3</a> by Rachel Nabors. She’s also got an <a href="http://frontendmasters.com/courses/animation-storytelling-html5-css3/">class outlining how to do it</a>.</li>
<li><a href="http://css-tricks.com/css-animation-tricks/">Really neat hacks for CSS animations</a> on CSS-Tricks</li>
<li><a href="http://trentwalton.com/2010/03/22/css3-in-transition/">Advice for CSS transitions</a> from Trent Walton.</li>
<li><a href="https://hacks.mozilla.org/2011/08/animating-with-javascript-from-setinterval-to-requestanimationframe/">RequestAnimationFrame info</a> on Mozilla Hacks.</li>
<li>Remember that <a href="http://byrichardpowell.co.uk/post/10648897311/animations-role-in-web-design">great animation is subtle</a>. Don’t abuse these methods please.</li>
</ul>

  </article>
</div>


          <footer class="footer">
            <div class="contact">
              <p>
                Timothy Miller<br />
                Web Devigner<br />
                tjacobdesign@gmail.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/tjacobdesign">tjacobdesign</a><br />
                <a href="https://twitter.com/tjacobdesign">@tjacobdesign</a><br />
                <a href="/feed">RSS Feed</a>
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
